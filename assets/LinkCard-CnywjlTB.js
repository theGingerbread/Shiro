const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NotePreview-DYpvgeqg.js","./index-Bly4qCj0.js","./index-CL4U9Wyu.css","./useQuery-DW9IlRz9.js","./owner-CaWtfvSV.js","./helper-BGko9IlV.js","./utils-BiYryIlL.js","./viewport-BO_QMQ6D.js","./Gallery-RCe_lrlm.js","./image-IIRtBE_S.js","./lodash-DZqbOFgp.js","./index-DXzhjb8Y.js","./StyledButton-mZo4xmg0.js","./index-DeugNjQT.js","./proxy-B3lsIjW6.js","./use-is-unmounted-BoFPD_EJ.js","./Gallery-DzxR8WSF.css","./index-DDKL7s-I.js","./index-C85TqlXT.js","./Markdown-DJaujKVD.js","./index--fLXlmQK.js","./use-is-dark-BEIJ0vKN.js","./dom-BowoBODo.js","./Shiki-D5oOv8R9.js","./spring-C80N1tKa.js","./use-event-callback-mOUa1HVA.js","./Shiki-BM0qRJ8D.css","./index-cyqgD8ip.css","./FloatPopover-Dxtfc8K9.js","./visual-element-Dq0nLX0X.js","./provider-CBgXyCzW.js","./use-drag-controls-lgQ_qY-r.js","./SocialSourceLink-DiRCspbe.js","./bangumi-DGWEI3g8.js","./Collapse-CnNOLnCI.js","./Markdown-DzGoRw7s.css","./use-motion-template-Cw0VRvJ7.js","./customParseFormat-8kL7VgIM.js","./utils-Dpmqmgbb.css","./NotePreview-BI2RbilD.css","./PostPreview-BfyJs0DB.js"])))=>i.map(i=>d[i]);
import{g as ve,j as t,r as y,_ as ue,d as Te}from"./index-Bly4qCj0.js";import{u as Se,B as Ee,C as J,f as de}from"./owner-CaWtfvSV.js";import{L as we}from"./index-DeugNjQT.js";import{u as be,L as Ce,g as Pe}from"./image-IIRtBE_S.js";import{u as Me}from"./viewport-BO_QMQ6D.js";import{u as je}from"./provider-CBgXyCzW.js";import{m as Ie}from"./spring-C80N1tKa.js";import{m as re}from"./proxy-B3lsIjW6.js";import{c as Re}from"./index-DDKL7s-I.js";import{a as Le}from"./bangumi-DGWEI3g8.js";import{p as Ae}from"./dom-BowoBODo.js";import{c as ne}from"./helper-BGko9IlV.js";import{u as ee,a as Fe}from"./use-motion-template-Cw0VRvJ7.js";const Oe=()=>Se(Ee);var N=(s=>(s.GHRepo="gh-repo",s.Self="self",s.MixSpace="mx-space",s.GHCommit="gh-commit",s.GHPr="gh-pr",s.TMDB="tmdb",s.Bangumi="bangumi",s.LEETCODE="leetcode",s.QQMusicSong="qq-music-song",s.NeteaseMusicSong="netease-music-song",s))(N||{}),te,me;function De(){return me||(me=1,te=function(s,e){e=e||{},e.listUnicodeChar=e.hasOwnProperty("listUnicodeChar")?e.listUnicodeChar:!1,e.stripListLeaders=e.hasOwnProperty("stripListLeaders")?e.stripListLeaders:!0,e.gfm=e.hasOwnProperty("gfm")?e.gfm:!0,e.useImgAltText=e.hasOwnProperty("useImgAltText")?e.useImgAltText:!0,e.abbr=e.hasOwnProperty("abbr")?e.abbr:!1,e.replaceLinksWithURL=e.hasOwnProperty("replaceLinksWithURL")?e.replaceLinksWithURL:!1,e.htmlTagsToSkip=e.hasOwnProperty("htmlTagsToSkip")?e.htmlTagsToSkip:[],e.throwError=e.hasOwnProperty("throwError")?e.throwError:!1;var n=s||"";n=n.replace(/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/gm,"");try{e.stripListLeaders&&(e.listUnicodeChar?n=n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):n=n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(n=n.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e.abbr&&(n=n.replace(/\*\[.*\]:.*\n/,""));let i=/<[^>]*>/g;if(e.htmlTagsToSkip&&e.htmlTagsToSkip.length>0){const d=e.htmlTagsToSkip.join("|");i=new RegExp(`<(?!/?(${d})(?=>|s[^>]*>))[^>]*>`,"g")}n=n.replace(i,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,e.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(i){if(e.throwError)throw i;return console.error("remove-markdown encountered error: %s",i),s}return n}),te}var Ue=De();const Ve=ve(Ue);var Z={exports:{}};/**
* Generate unique and beautiful colors from any texts or numbers
 * @version v1.1.1
 * @link https://github.com/dastoori/uniqolor#README
 * @author Rasool Dastoori
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */var He=Z.exports,he;function qe(){return he||(he=1,function(s,e){(function(n,i){s.exports=i()})(He,function(){function n(c,l){var a=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(a!=null){var u,p,g,x,b=[],_=!0,E=!1;try{if(g=(a=a.call(c)).next,l!==0)for(;!(_=(u=g.call(a)).done)&&(b.push(u.value),b.length!==l);_=!0);}catch(F){E=!0,p=F}finally{try{if(!_&&a.return!=null&&(x=a.return(),Object(x)!==x))return}finally{if(E)throw p}}return b}}function i(c,l){return o(c)||n(c,l)||f(c,l)||v()}function d(c){return r(c)||m(c)||f(c)||w()}function r(c){if(Array.isArray(c))return h(c)}function o(c){if(Array.isArray(c))return c}function m(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function f(c,l){if(c){if(typeof c=="string")return h(c,l);var a=Object.prototype.toString.call(c).slice(8,-1);if(a==="Object"&&c.constructor&&(a=c.constructor.name),a==="Map"||a==="Set")return Array.from(c);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(c,l)}}function h(c,l){(l==null||l>c.length)&&(l=c.length);for(var a=0,u=new Array(l);a<l;a++)u[a]=c[a];return u}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=[0,100],k=[0,100],$=function(l){return"".concat(l.length===1?"0":"").concat(l)},T=function(l,a,u){return Math.max(Math.min(l,u),a)},C=function(l,a){return Math.floor(Math.random()*(a-l+1))+l},X=function c(l,a,u){for(var p=C(l,a),g=0;g<u?.length;g++){var x=u[g];if(x?.length===2&&p>=x[0]&&p<=x[1])return c(l,a,u)}return p},Y=function(l){for(var a=l.length,u=0,p=0;p<a;p++)u=(u<<5)-u+l.charCodeAt(p),u&=u;return u},P=function(l,a){return typeof a=="number"?a:l%Math.abs(a[1]-a[0])+a[0]},I=function(l,a){return typeof l=="number"?T.apply(void 0,[Math.abs(l)].concat(d(a))):l.length===1||l[0]===l[1]?T.apply(void 0,[Math.abs(l[0])].concat(d(a))):[Math.abs(T.apply(void 0,[l[0]].concat(d(a)))),T.apply(void 0,[Math.abs(l[1])].concat(d(a)))]},H=function(l,a,u){return u<0?u+=1:u>1&&(u-=1),u<1/6?l+(a-l)*6*u:u<1/2?a:u<2/3?l+(a-l)*(2/3-u)*6:l},R=function(l,a,u){var p,g,x;if(l/=360,a/=100,u/=100,a===0)p=g=x=u;else{var b=u<.5?u*(1+a):u+a-u*a,_=2*u-b;p=H(_,b,l+1/3),g=H(_,b,l),x=H(_,b,l-1/3)}return[Math.round(p*255),Math.round(g*255),Math.round(x*255)]},L=function(l,a,u,p){return(l*299+a*587+u*114)/1e3>=p},A=function(l,a,u){return"hsl(".concat(l,", ").concat(a,"%, ").concat(u,"%)")},G=function(l,a,u,p){switch(p){case"rgb":return"rgb(".concat(l,", ").concat(a,", ").concat(u,")");case"hex":default:return"#".concat($(l.toString(16))).concat($(a.toString(16))).concat($(u.toString(16)))}},W=function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.format,p=u===void 0?"hex":u,g=a.saturation,x=g===void 0?[50,55]:g,b=a.lightness,_=b===void 0?[50,60]:b,E=a.differencePoint,F=E===void 0?130:E,O=Math.abs(Y(String(l))),q=P(O,[0,360]),z=P(O,I(x,S)),D=P(O,I(_,k)),Q=R(q,z,D),U=i(Q,3),B=U[0],ie=U[1],ce=U[2];return{color:p==="hsl"?A(q,z,D):G(B,ie,ce,p),isLight:L(B,ie,ce,F)}};return W.random=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=c.format,a=l===void 0?"hex":l,u=c.saturation,p=u===void 0?[50,55]:u,g=c.lightness,x=g===void 0?[50,60]:g,b=c.differencePoint,_=b===void 0?130:b,E=c.excludeHue;p=I(p,S),x=I(x,k);var F=E?X(0,359,E):C(0,359),O=typeof p=="number"?p:C.apply(void 0,d(p)),q=typeof x=="number"?x:C.apply(void 0,d(x)),z=R(F,O,q),D=i(z,3),Q=D[0],U=D[1],B=D[2];return{color:a==="hsl"?A(F,O,q):G(Q,U,B,a),isLight:L(Q,U,B,_)}},W})}(Z)),Z.exports}var Be=qe();const ae=ve(Be);function Ne(s){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...s,children:t.jsxs("g",{fill:"none",fillRule:"evenodd",children:[t.jsx("path",{d:"M24 0v24H0V0h24ZM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018Zm.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01l-.184-.092Z"}),t.jsx("path",{fill:"currentColor",d:"M13.08 2.868a1.25 1.25 0 0 0-2.16 0L8.126 7.665L2.697 8.842a1.25 1.25 0 0 0-.667 2.054l3.7 4.141l-.56 5.525a1.25 1.25 0 0 0 1.748 1.27L12 19.592l5.082 2.24a1.25 1.25 0 0 0 1.748-1.27l-.56-5.525l3.7-4.14a1.25 1.25 0 0 0-.667-2.055l-5.428-1.176l-2.795-4.798ZM12 17.523c.172 0 .344.035.504.106l4.206 1.854l-.463-4.573a1.25 1.25 0 0 1 .312-.959l3.062-3.427l-4.492-.973a1.25 1.25 0 0 1-.816-.592L12 4.987v12.536Z"})]})})}var oe=(s=>(s.Click="click",s.Interaction="interaction",s.Impression="impression",s))(oe||{});const Ge=s=>{const{shouldTrack:e=!0,...n}=s;return e?t.jsx(ke,{...n}):t.jsx(t.Fragment,{children:s.children})},ke=y.memo(s=>{const[e,n]=y.useState(!1),i=Oe(),{ref:d}=be({initialInView:!1,triggerOnce:!0,onChange(r){if(r){if(n(!0),i)return;document.dispatchEvent(new CustomEvent("impression",{detail:{action:s.action??oe.Impression,label:s.trackerMessage}})),s.onTrack?.()}}});return t.jsxs(t.Fragment,{children:[s.children,!e&&t.jsx("span",{ref:d})]})});ke.displayName="ImpressionView";const fe=s=>{const{dismissAll:e,dismissTop:n}=je();return t.jsxs("div",{className:"scrollbar-none relative mx-auto mt-[10vh] max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0",children:[t.jsx(Ge,{action:oe.Impression,trackerMessage:"Peek Modal"}),t.jsx(re.div,{initial:{opacity:.5,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:Ie,className:"scrollbar-none",children:s.children}),t.jsxs(re.div,{initial:!0,exit:{opacity:0},className:"fixed right-2 top-2 flex items-center gap-4",children:[t.jsxs(we,{className:"center flex size-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 dark:ring-neutral-800",href:s.to,onClick:e,children:[t.jsx("i",{className:"i-mingcute-fullscreen-2-line text-lg"}),t.jsx("span",{className:"sr-only",children:"Go to this link"})]}),t.jsxs("button",{className:"center flex size-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 dark:ring-neutral-800",onClick:n,children:[t.jsx("i",{className:"i-mingcute-close-line text-lg"}),t.jsx("span",{className:"sr-only",children:"Dimiss"})]})]})]})},We=()=>{const s=Me(),{present:e}=je();return y.useCallback(n=>{if(s)return;const i={clickOutsideToDismiss:!0,title:"Preview",modalClassName:"relative mx-auto mt-[10vh] scrollbar-none max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0"};return n.startsWith("/notes/")?(requestAnimationFrame(async()=>{const d=await ue(()=>import("./NotePreview-DYpvgeqg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]),import.meta.url).then(r=>r.NotePreview);e({...i,CustomModalComponent:()=>t.jsx(fe,{to:n,children:t.jsx(d,{noteId:Number.parseInt(n.split("/").pop())})}),content:()=>null})}),!0):n.startsWith("/posts/")?(requestAnimationFrame(async()=>{const d=await ue(()=>import("./PostPreview-BfyJs0DB.js"),__vite__mapDeps([40,1,2,3,4,6,7,8,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38]),import.meta.url).then(f=>f.PostPreview),r=n.split("/"),o=r.pop(),m=r.pop();e({...i,CustomModalComponent:()=>t.jsx(fe,{to:n,children:t.jsx(d,{category:m,slug:o})}),content:()=>null})}),!0):!1},[s,e])},ze={typescript:"#2b7489",javascript:"#f1e05a",html:"#e34c26",java:"#b07219",go:"#00add8",vue:"#2c3e50",css:"#563d7c",yaml:"#cb171e",json:"#292929",markdown:"#083fa1",csharp:"#178600","c#":"#178600",c:"#555555",cpp:"#f34b7d","c++":"#f34b7d",python:"#3572a5",lua:"#000080",vimscript:"#199f4b",shell:"#89e051",dockerfile:"#384d54",ruby:"#701516",php:"#4f5d95",lisp:"#3fb68b",kotlin:"#F18E33",rust:"#dea584",dart:"#00B4AB",swift:"#ffac45","objective-c":"#438eff","objective-c++":"#6866fb",r:"#198ce7",matlab:"#e16737",scala:"#c22d40",sql:"#e38c00",perl:"#0298c3"};let M=!1,V=[];function _e(){V.forEach(s=>s(M))}function pe(s){(s.metaKey||s.ctrlKey)&&!M&&(M=!0,_e())}function ge(){M&&(M=!1,_e())}function Qe(s){V.push(s),s(M)}function Ze(s){V=V.filter(e=>e!==s)}function Ke(){const[s,e]=y.useState(M);return y.useEffect(()=>(Qe(e),V.length===1&&(window.addEventListener("keydown",pe),window.addEventListener("keyup",ge)),()=>{Ze(e),V.length===0&&(window.removeEventListener("keydown",pe),window.removeEventListener("keyup",ge))}),[]),s}const xe="https://api.github.com",Je="/api/gh",le=s=>{const e=s.replace(xe,"");return Promise.any([fetch(xe+e).then(n=>{if(n.status===403)throw new Error("GitHub API rate limit exceeded");return n.json()}),fetch(Je+e).then(n=>n.json())])};var se=Te();const K=Symbol(),Xe=Symbol(),Ye=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),$e=Ye?y.useEffect:y.useLayoutEffect,et=se.unstable_runWithPriority?s=>{try{se.unstable_runWithPriority(se.unstable_NormalPriority,s)}catch(e){if(e.message==="Not implemented.")s();else throw e}}:s=>s(),tt=s=>({value:n,children:i})=>{const d=y.useRef(n),r=y.useRef(0),[o,m]=y.useState(null);o&&(o(n),m(null));const f=y.useRef();if(!f.current){const h=new Set,w=(v,S)=>{r.current+=1;const k={n:r.current};S?.suspense&&(k.n*=-1,k.p=new Promise($=>{m(()=>T=>{k.v=T,delete k.p,$(T)})})),h.forEach($=>$(k)),v()};f.current={[K]:{v:d,n:r,l:h,u:w}}}return $e(()=>{d.current=n,r.current+=1,et(()=>{f.current[K].l.forEach(h=>{h({n:r.current,v:n})})})},[n]),y.createElement(s,{value:f.current},i)};function st(s){const e=y.createContext({[K]:{v:{current:s},n:{current:-1},l:new Set,u:n=>n()}});return e[Xe]=e.Provider,e.Provider=tt(e.Provider),delete e.Consumer,e}function rt(s,e){const n=y.useContext(s)[K],{v:{current:i},n:{current:d},l:r}=n,o=e(i),[m,f]=y.useReducer((h,w)=>{if(!w)return[i,o];if("p"in w)throw w.p;if(w.n===d)return Object.is(h[1],o)?h:[i,o];try{if("v"in w){if(Object.is(h[0],w.v))return h;const v=e(w.v);return Object.is(h[1],v)?h:[w.v,v]}}catch{}return[...h]},[i,o]);return Object.is(m[1],o)||f(),$e(()=>(r.add(f),()=>{r.delete(f)}),[r]),m[1]}const nt={tmdb:!1},at=st(nt),ot=s=>rt(at,e=>e[s]),lt="_contents_wowjc_29",it="_title_wowjc_38",ct="_desc_wowjc_50",ut="_image_wowjc_60",dt="_skeleton_wowjc_70",mt="_error_wowjc_98",j={"card-grid":"_card-grid_wowjc_1",contents:lt,title:it,desc:ct,image:ut,skeleton:dt,error:mt},At=s=>{const e=Re(),n=t.jsx(ft,{className:s.source==="tmdb"?"!w-screen max-w-full":""});return e?t.jsx(Ce,{placeholder:n,children:t.jsx(ht,{...s,placeholder:n})}):n},ht=s=>{const{id:e,source:n=N.Self,className:i,fallbackUrl:d}=s,[r,o]=y.useState(!0),[m,f]=y.useState(!1),[h,w]=y.useState(d||"javascript:;"),[v,S]=y.useState(),k=We(),$=Ke(),T=y.useCallback(async a=>{if($)return;k(h)&&Ae(a)},[h,$,k]),C=ot("tmdb"),X=y.useCallback((a,u)=>{const p={[N.MixSpace]:ye,[N.GHRepo]:pt,[N.GHCommit]:gt,[N.GHPr]:xt,[N.Self]:ye,[N.LEETCODE]:wt,[N.QQMusicSong]:bt,[N.NeteaseMusicSong]:jt,[N.Bangumi]:vt};C&&(p[N.TMDB]=yt);const g=p[a];if(!g)return{isValid:!1,fetchFn:null};const x=g.isValid(u);return{isValid:x,fetchFn:x?g.fetch:null}},[C]),{isValid:Y,fetchFn:P}=y.useMemo(()=>X(n,e),[n,e]),I=y.useCallback(async()=>{P&&(o(!0),await P(e,S,w).catch(a=>{console.error("fetch card info error:",a),f(!0)}),o(!1))},[P,e]),{ref:H}=be({triggerOnce:!0,onChange(a){a&&I()}}),R=ee(0),L=ee(0),A=ee(0),G=y.useCallback(({clientX:a,clientY:u,currentTarget:p})=>{const g=p.getBoundingClientRect();R.set(a-g.left),L.set(u-g.top),A.set(Math.hypot(g.width,g.height)*1.3)},[R,L,A]),W=Fe`radial-gradient(${A}px circle at ${R}px ${L}px, var(--spotlight-color) 0%, transparent 65%)`;if(!Y)return null;const c=n==="self"?we:"a",l=v?.classNames||{};return r?t.jsx("a",{ref:H,href:h,target:n!=="self"?"_blank":"_self",rel:"noreferrer",children:s.placeholder}):t.jsxs(c,{href:h,target:n!=="self"?"_blank":"_self",className:ne(j["card-grid"],(r||m)&&j.skeleton,m&&j.error,"not-prose","group",i,l.cardRoot),style:{borderColor:v?.color?`${v.color}30`:void 0},onClick:T,onMouseMove:G,children:[v?.color&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundColor:v?.color,opacity:.06}}),t.jsx(re.div,{layout:!0,className:"absolute inset-0 z-0 opacity-0 duration-500 group-hover:opacity-100",style:{"--spotlight-color":`${v?.color}50`,background:W}})]}),t.jsxs("span",{className:j.contents,children:[t.jsx("span",{className:j.title,children:v?.title}),t.jsx("span",{className:j.desc,children:v?.desc})]}),(r||v?.image)&&t.jsx("span",{className:ne(j.image,l.image),"data-image":v?.image||"",style:{backgroundImage:v?.image?`url(${v.image})`:void 0}})]})},ft=({className:s})=>t.jsxs("span",{className:ne(j["card-grid"],j.skeleton,s),children:[t.jsxs("span",{className:j.contents,children:[t.jsx("span",{className:j.title}),t.jsx("span",{className:j.desc})]}),t.jsx("span",{className:j.image})]}),pt={isValid:s=>{const e=s.split("/");return e.length===2&&e[0].length>0&&e[1].length>0},fetch:async(s,e,n)=>{const[i,d]=s.split("/");try{const r=await le(`https://api.github.com/repos/${i}/${d}`),o=J(r);e({title:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex-1",children:o.name}),t.jsx("span",{className:"shrink-0 place-self-end",children:o.stargazersCount>0&&t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[t.jsx("i",{className:"i-mingcute-star-line"}),t.jsx("span",{className:"font-sans font-medium",children:o.stargazersCount})]})})]}),desc:o.description,image:o.owner.avatarUrl,color:ze[o.language?.toLowerCase()]}),n(o.htmlUrl)}catch(r){throw console.error("Error fetching GitHub data:",r),r}}},gt={isValid:s=>{const e=s.split("/");return e.length===4&&e.every(n=>n.length>0)&&e[2]==="commit"},fetch:async(s,e,n)=>{const[i,d,,r]=s.split("/");try{const o=await le(`https://api.github.com/repos/${i}/${d}/commits/${r}`),m=J(o);e({title:t.jsx("span",{className:"font-normal",children:m.commit.message.replace(/Signed-off-by:.+/,"")}),desc:t.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[t.jsxs("span",{className:"text-uk-green-light",children:["+",m.stats.additions]}),t.jsxs("span",{className:"text-uk-red-light",children:["-",m.stats.deletions]}),t.jsx("span",{className:"text-sm",children:m.sha.slice(0,7)}),t.jsxs("span",{className:"text-sm opacity-80",children:[i,"/",d]})]}),image:m.author?.avatarUrl}),n(`https://github.com/${i}/${d}/commit/${r}`)}catch(o){throw console.error("Error fetching GitHub commit data:",o),o}}},xt={isValid:s=>{const e=s.split("/");return e.length===3&&e.every(n=>n.length>0)},fetch:async(s,e,n)=>{const[i,d,r]=s.split("/");try{const o=await le(`https://api.github.com/repos/${i}/${d}/pulls/${r}`),m=J(o);e({title:`PR: ${m.title}`,desc:t.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[t.jsxs("span",{className:"text-uk-green-light",children:["+",m.additions]}),t.jsxs("span",{className:"text-uk-red-light",children:["-",m.deletions]}),t.jsxs("span",{className:"text-sm opacity-80",children:[i,"/",d]})]}),image:m.user.avatarUrl}),n(m.htmlUrl)}catch(o){throw console.error("Error fetching GitHub PR data:",o),o}}},ye={isValid:s=>{const[e,...n]=s.split("/");return e!=="posts"&&e!=="notes"?!1:e==="posts"?n.length===2:n.length===1},fetch:async(s,e,n)=>{const[i,...d]=s.split("/");try{let r={title:"",text:""};if(i==="posts"){const[f,h]=d;r=await de.post.getPost(f,h),n(`/posts/${f}/${h}`)}else if(i==="notes"){const[f]=d;r=(await de.note.getNoteById(+f)).data,n(`/notes/${f}`)}const o=r.cover||r.meta?.cover;let m="";if(o){const f=new Image;f.src=o,f.crossOrigin="Anonymous",f.onload=()=>{e(h=>h?.title!==r.title?h:{...h,color:Pe(f)})}}else m=ae(r.title,{saturation:[30,35],lightness:[60,70]}).color;e({title:r.title,desc:r.summary||`${Ve(r.text).slice(0,50)}...`,image:o||r.images?.[0]?.src,color:m})}catch(r){throw console.error("Error fetching self data:",r),r}}},yt={isValid(s){const[e,n]=s.split("/");return["tv","movie"].includes(e)&&n.length>0},async fetch(s,e,n){const[i,d]=s.split("/");e({classNames:{cardRoot:"!w-full"}});const r=navigator.language||"en-US",o=await fetch(`/api/tmdb/${i}/${d}?language=${r}`).then(h=>h.json()).catch(h=>{throw console.error("Error fetching TMDB data:",h),h}),m=i==="tv"?o.name:o.title,f=i==="tv"?o.original_name:o.original_title;e({title:t.jsxs("span",{className:"flex flex-wrap items-end gap-2",children:[t.jsx("span",{children:m}),m!==f&&t.jsxs("span",{className:"text-sm opacity-70",children:["(",f,")"]}),t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[t.jsx(Ne,{}),t.jsx("span",{className:"font-sans font-medium",children:o.vote_average>0&&o.vote_average.toFixed(1)})]})]}),desc:t.jsx("span",{className:"line-clamp-none overflow-visible whitespace-pre-wrap",children:o.overview}),image:`https://image.tmdb.org/t/p/w500${o.poster_path}`,color:ae(o.name,{saturation:[30,35],lightness:[60,70]}).color,classNames:{image:"self-start !h-[75px] !w-[50px]",cardRoot:"!w-full !flex-row-reverse"}}),o.homepage&&n(o.homepage)}},vt={isValid(s){const[e,n]=s.split("/");return Le.includes(e)&&n.length>0},async fetch(s,e,n){const[i,d]=s.split("/");e({classNames:{cardRoot:"!w-full"}});const r=await fetch(`/api/bangumi/${i}/${d}`).then(f=>f.json()).catch(f=>{throw console.error("Error fetching Bangumi data:",f),f});let o="",m="";if(i==="subject")r.name_cn&&r.name_cn!==r.name&&r.name_cn!==""?(o=r.name_cn,m=r.name):(o=r.name,m=r.name);else if(i==="character"||i==="person"){const{infobox:f}=r;f.forEach(h=>{h.key==="简体中文名"?o=typeof h.value=="string"?h.value:h.value[0].v:h.key==="别名"&&(h.value.forEach(v=>{m+=`${v.v} / `}),m=m.slice(0,-3))})}else throw new Error("Unknown bangumi type");e({title:t.jsxs("span",{className:"flex flex-wrap items-end gap-2",children:[t.jsx("span",{children:o}),o!==m&&t.jsxs("span",{className:"text-sm opacity-70",children:["(",m,")"]}),i==="subject"&&t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-3 self-center",children:[t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[t.jsx(Ne,{}),t.jsx("span",{className:"font-sans font-medium",children:r.rating.score>0&&r.rating.score.toFixed(1)})]}),t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[t.jsx("i",{className:"i-mingcute-star-line"}),t.jsx("span",{className:"font-sans font-medium",children:r.collection&&r.collection.on_hold+r.collection.dropped+r.collection.wish+r.collection.collect+r.collection.doing})]})]}),(i==="character"||i==="person")&&t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[t.jsx("i",{className:"i-mingcute-star-line"}),t.jsx("span",{className:"font-sans font-medium",children:r.stat.collects>0&&r.stat.collects})]})]}),desc:t.jsx("span",{className:"line-clamp-none overflow-visible whitespace-pre-wrap",children:r.summary}),image:r.images.grid,color:ae(o,{saturation:[30,35],lightness:[60,70]}).color,classNames:{image:i==="subject"?"self-start !h-[70px] !w-[50px]":"self-start !h-[50px] !w-[50px]",cardRoot:"!w-full !flex-row-reverse"}})}},wt={isValid:s=>typeof s=="string"&&s.length>0,fetch:async(s,e,n)=>{try{const o=await fetch("/api/leetcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`query questionData($titleSlug: String!) {
  question(titleSlug: $titleSlug) {translatedTitle
   difficulty
    likes
     topicTags { translatedName
 }
    stats
  }
}
`,variables:{titleSlug:s}})}).then(async h=>{if(!h.ok)throw new Error("Failed to fetch LeetCode question title");return h.json()}),m=J(o.data.question),f=JSON.parse(m.stats);e({title:t.jsx(t.Fragment,{children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex-1",children:m.translatedTitle}),t.jsx("span",{className:"shrink-0 place-self-end",children:m.likes>0&&t.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[t.jsx("i",{className:"i-mingcute-thumb-up-line"}),t.jsx("span",{className:"font-sans font-medium",children:m.likes})]})})]})}),desc:t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`mr-4 font-bold ${d(m.difficulty)}`,children:m.difficulty}),t.jsx("span",{className:"overflow-hidden",children:m.topicTags.map(h=>h.translatedName).join(" / ")}),t.jsxs("span",{className:"float-right overflow-hidden",children:["AR: ",f.acRate]})]}),image:"https://upload.wikimedia.org/wikipedia/commons/1/19/LeetCode_logo_black.png",color:i(m.difficulty)}),n(`https://leetcode.cn/problems/${s}/description`)}catch(r){throw console.error("Error fetching LeetCode question data:",r),r}function i(r){switch(r){case"Easy":return"#00BFA5";case"Medium":return"#FFA726";case"Hard":return"#F44336";default:return"#757575"}}function d(r){switch(r){case"Easy":return"text-green-500";case"Medium":return"text-yellow-500";case"Hard":return"text-red-500";default:return"text-gray-500"}}}},bt={isValid:s=>typeof s=="string"&&s.length>0,fetch:async(s,e,n)=>{try{const d=(await fetch("/api/music/tencent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({songId:s})}).then(async o=>{if(!o.ok)throw new Error("Failed to fetch QQMusic song title");return o.json()})).data[0],r=d.album.mid;e({title:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:d.title}),d.subtitle&&t.jsx("span",{className:"ml-2 text-sm text-gray-400",children:d.subtitle})]}),desc:t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"block",children:[t.jsx("span",{className:"font-bold",children:"歌手："}),t.jsx("span",{children:d.singer.map(o=>o.name).join(" / ")})]}),t.jsxs("span",{className:"block",children:[t.jsx("span",{className:"font-bold",children:"专辑："}),t.jsx("span",{children:d.album.name})]})]}),image:`https://y.gtimg.cn/music/photo_new/T002R300x300M000${r}.jpg?max_age=2592000`,color:"#31c27c"})}catch(i){throw console.error("Error fetching QQMusic song data:",i),i}}},jt={isValid:s=>s.length>0,fetch:async(s,e,n)=>{try{const d=(await fetch("/api/music/netease",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({songId:s})}).then(async m=>{if(!m.ok)throw new Error("Failed to fetch NeteaseMusic song title");return m.json()})).songs[0],r=d.al,o=d.ar;e({title:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:d.name}),d.tns&&t.jsx("span",{className:"ml-2 text-sm text-gray-400",children:d.tns[0]})]}),desc:t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"block",children:[t.jsx("span",{className:"font-bold",children:"歌手："}),t.jsx("span",{children:o.map(m=>m.name).join(" / ")})]}),t.jsxs("span",{className:"block",children:[t.jsx("span",{className:"font-bold",children:"专辑："}),t.jsx("span",{children:r.name})]})]}),image:r.picUrl,color:"#e72d2c"})}catch(i){throw console.error("Error fetching NeteaseMusic song data:",i),i}}};export{At as L,Ve as R,N as a,ot as b,st as c,rt as d,Oe as u};
